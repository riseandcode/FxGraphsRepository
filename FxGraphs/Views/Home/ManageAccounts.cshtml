@model List<DL.AccountData>
@{
    ViewBag.Title = "ManageAccounts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style type="text/css">
    .accountTable {
        margin: 0px;
        padding: 0px;
        width: 100%;
        border: 1px solid #dedede;
    }

        .accountTable table {
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0px;
        }

        .accountTable tr:nth-child(odd) {
            background-color: #F7F5F5;
        }

        .accountTable tr:nth-child(even) {
            background-color: #ffffff;
        }

        .accountTable td {
            vertical-align: middle;
            text-align: left;
            padding: 7px;
            font-size: 10px;
            font-family: arial;
            font-weight: normal;
            color: #000000;
        }

        .accountTable tr:last-child td {
            border-width: 0px 0px 0px 0px;
        }

        .accountTable tr:first-child td {
            background: -webkit-gradient(linear,left top,left bottom,from(#c8c8c8),to(#e9e9e9));
            background: -moz-linear-gradient(top,#c8c8c8,#e9e9e9) repeat scroll 0 0 transparent;
            background: -o-linear-gradient(top,#c8c8c8,#e9e9e9);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#cccccc", endColorstr="#b2b2b2");
            background: -o-linear-gradient(top,#cccccc,b2b2b2);
            background-color: #cccccc;
            text-align: center;
            border-width: 0px 0px 0px 0px;
            font-size: 14px;
            font-family: arial;
            font-weight: bold;
            color: #767676;
        }

    .buttonStyle {
        -moz-box-shadow: inset 0px 1px 0px 0px #ffffff;
        -webkit-box-shadow: inset 0px 1px 0px 0px #ffffff;
        box-shadow: inset 0px 1px 0px 0px #ffffff;
        background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ededed), color-stop(1, #dfdfdf) );
        background: -moz-linear-gradient( center top, #ededed 5%, #dfdfdf 100% );
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#dfdfdf');
        background-color: #ededed;
        -webkit-border-top-left-radius: 6px;
        -moz-border-radius-topleft: 6px;
        border-top-left-radius: 6px;
        -webkit-border-top-right-radius: 6px;
        -moz-border-radius-topright: 6px;
        border-top-right-radius: 6px;
        -webkit-border-bottom-right-radius: 6px;
        -moz-border-radius-bottomright: 6px;
        border-bottom-right-radius: 6px;
        -webkit-border-bottom-left-radius: 6px;
        -moz-border-radius-bottomleft: 6px;
        border-bottom-left-radius: 6px;
        text-indent: 0;
        border: 1px solid #dcdcdc;
        display: inline-block;
        color: #777777;
        font-family: arial;
        font-size: 15px;
        font-weight: bold;
        font-style: normal;
        height: 20px;
        line-height: 20px;
        width: 100px;
        text-decoration: none;
        text-align: center;
        text-shadow: 1px 1px 0px #ffffff;
    }

        .buttonStyle:hover {
            background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #dfdfdf), color-stop(1, #ededed) );
            background: -moz-linear-gradient( center top, #dfdfdf 5%, #ededed 100% );
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#ededed');
            background-color: #dfdfdf;
        }

        .buttonStyle:active {
            position: relative;
            top: 1px;
        }
</style>

<script type="text/javascript">
    function DeleteAccount(element, id) {
        $(element).parent().parent().remove();

        $.ajax({
            url: '@Url.Action("DeleteAccount")',
            type: 'POST',
            data: JSON.stringify({ "accountId": id }),
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                jAlert("Account was successfully deleted.", "Account");
            },
            error: function () {
                alert('Error occured', "Account");
            }
        });
    }


</script>

<h4>ManageAccounts</h4>

<div style="margin-top: 30px; margin-left: 20px; width: 40%">
    <h4>Manage User Accounts</h4>
    <table class="accountTable" style="margin-top: 10px">
        <tr>
            <td>ID</td>
            <td>System</td>
            <td>Broker</td>
            <td></td>
        </tr>
        @foreach (var account in Model)
        {
            @Html.Partial("AccountData", account)
        }
    </table>
</div>
